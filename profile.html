<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Profile</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Student Profile</h1>
    </header>

    <div class="profile-hero">
        <div class="profile-hero-content">
            <img id="profile-photo" src="" alt="Profile picture" class="profile-pic-large">
            <div class="profile-header-info">
                <h2 id="profile-name">Loading...</h2>
                <p id="profile-specialty" class="specialty-badge"></p>
            </div>
        </div>
    </div>

    <main class="profile-page">
        
        <div class="profile-info-cards">
            <div class="info-card">
                <div class="info-card-icon">üéÇ</div>
                <div class="info-card-content">
                    <h4>Age & Birthday</h4>
                    <p id="profile-age"></p>
                </div>
            </div>
            
            <div class="info-card">
                <div class="info-card-icon">üåç</div>
                <div class="info-card-content">
                    <h4>Nationality & Origin</h4>
                    <p id="profile-nationality"></p>
                </div>
            </div>
        </div>

        <div class="profile-section">
            <div class="section-header">
                <span class="section-icon">üìù</span>
                <h3>About Me / Evaluation</h3>
            </div>
            <div class="bio-content" id="profile-bio"></div>
        </div>

        <div class="profile-section">
            <div class="section-header">
                <span class="section-icon">üíª</span>
                <h3>Key Skills</h3>
            </div>
            <div class="skills-grid" id="profile-skills"></div>
        </div>

    </main>

    <a href="index.html" class="back-link">
        <span>‚Üê</span> Back to Team Page
    </a>


    <script src="data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const urlParams = new URLSearchParams(window.location.search);
            const studentKey = urlParams.get('student'); 
            const student = studentsData[studentKey];

            if (student) {
                // Remplissage standard
                document.title = `Profile of ${student.name}`; 
                document.getElementById('profile-photo').src = student.photo;
                document.getElementById('profile-photo').alt = `Photo of ${student.name}`;
                document.getElementById('profile-name').textContent = student.name;
                
                // Affichage du badge de sp√©cialit√©
                const specialtyEl = document.getElementById('profile-specialty');
                const badgeClass = student.specialty === 'DE' ? 'badge-de' : 'badge-dfs';
                const specialtyText = student.specialty === 'DE' ? 'Data Engineering' : 'Fullstack';
                specialtyEl.innerHTML = `<span class="badge ${badgeClass}">${specialtyText}</span>`;

                // GESTION DE L'√ÇGE / DATE DE NAISSANCE
                const ageEl = document.getElementById('profile-age');
                let ageText = '';
                if (student.Age) {
                    ageText += `${student.Age} years old`;
                }
                if (student.dob) {
                    ageText += student.Age ? ` ‚Ä¢ Born: ${student.dob}` : `Born: ${student.dob}`;
                }
                if (ageText) {
                    ageEl.textContent = ageText;
                } else {
                    ageEl.textContent = 'Not specified';
                }

                // GESTION NATIONALIT√â / LIEU DE NAISSANCE
                const nationalityEl = document.getElementById('profile-nationality');
                let nationText = '';
                if (student.nationality) {
                    nationText += student.nationality;
                }
                if (student.placeOfBirth) {
                    nationText += student.nationality ? ` ‚Ä¢ ${student.placeOfBirth}` : student.placeOfBirth;
                }
                if (nationText) {
                    nationalityEl.textContent = nationText;
                } else {
                    nationalityEl.textContent = 'Not specified';
                }
                
                // GESTION DE LA BIO
                const bioEl = document.getElementById('profile-bio');
                if (student.bio) {
                    bioEl.innerHTML = student.bio.replace(/\n/g, '<br>');
                } else {
                    bioEl.textContent = "Biographical information not provided.";
                }

                // GESTION DES COMP√âTENCES (avec grid design)
                const skillsList = document.getElementById('profile-skills');
                skillsList.innerHTML = ''; 
                
                if (student.skills && student.skills.length > 0) {
                    student.skills.forEach(skill => {
                        const skillBadge = document.createElement('span');
                        skillBadge.className = 'skill-badge';
                        skillBadge.textContent = skill;
                        skillsList.appendChild(skillBadge);
                    });
                } else {
                    skillsList.innerHTML = '<p>Skills not specified.</p>';
                }

            } else {
                document.querySelector('.profile-page').innerHTML = 
                    "<h2>Error: Student not found.</h2>";
            }
        });
    </script>

</body>
</html>