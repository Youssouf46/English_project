<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M2 Info - Squad Page</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>M2 Info - Our Team</h1>
    </header>

    <div class="hero-section">
        <div class="hero-content">
            <h2>Discover the Talents of M2 Info</h2>
            <p>Meet our students, their specialties, and their projects.</p>
            <a href="add-student.html" class="add-student-btn">â• Add New Student</a>
        </div>
    </div>

    <!-- Search and Filter Section -->
    <div class="search-section">
        <div class="search-container">
            <div class="search-box">
                <span class="search-icon">ğŸ”</span>
                <input type="text" id="searchInput" placeholder="Search by skills (e.g., Django, React, Python...)">
                <button id="clearSearch" class="clear-btn" style="display: none;">âœ—</button>
            </div>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All Students (<span id="countAll">16</span>)</button>
                <button class="filter-btn" data-filter="DE">Data Engineering (<span id="countDE">0</span>)</button>
                <button class="filter-btn" data-filter="DFS">Fullstack (<span id="countDFS">0</span>)</button>
            </div>
        </div>
        <div id="searchResults" class="search-results"></div>
    </div>
    
    <main class="squad-grid" id="studentGrid">

        <a href="profile.html?student=Youssouf" class="student-card">
            <img src="images/Youssouf.png" alt="Photo of Youssouf Maham bowba">
            <div class="card-content">
                <h3>Youssouf Maham bowba</h3>
                <p class="specialty"><span class="badge badge-de">Data Engineering</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ Mauritanian</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=DAHDOUH Ahmed" class="student-card">
            <img src="images/DAHDOUH Ahmed.png" alt="Photo of DAHDOUH Ahmed">
            <div class="card-content">
                <h3>DAHDOUH Ahmed</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ Algerian</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=GHOULAM Mehdi" class="student-card">
            <img src="images/GHOULAM Mehdi.png" alt="Photo of GHOULAM Mehdi">
            <div class="card-content">
                <h3>GHOULAM Mehdi</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French & Moroccan</p>
                </div>
            </div>
        </a>

         <a href="profile.html?student=EZ-ZAHER Manal" class="student-card">
            <img src="images/EZ-ZAHER Manal.png" alt="Photo of EZ-ZAHER Manal">
            <div class="card-content">
                <h3>EZ-ZAHER Manal</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ Moroccan</p>
                </div>
            </div>
        </a>


        <a href="profile.html?student=hafsa" class="student-card">
            <img src="images/hafsa.png" alt="Photo of Hafsa">
            <div class="card-content">
                <h3>Hafsa</h3>
                <p class="specialty"><span class="badge badge-de">Data Engineering</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ Moroccan</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=LOVICHI Dorian" class="student-card">
            <img src="images/LOVICHI Dorian.png" alt="Photo of LOVICHI Dorian">
            <div class="card-content">
                <h3>LOVICHI Dorian</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>
        <a href="profile.html?student=MENGHI Anthony" class="student-card">
            <img src="images/MENGHI Anthony.png" alt="Photo of MENGHI Anthony">
            <div class="card-content">
                <h3>MENGHI Anthony</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>
         <a href="profile.html?student=SECK Abdou samath" class="student-card">
            <img src="images/SECK Abdou samath.png" alt="Photo of SECK Abdou samath">
            <div class="card-content">
                <h3>SECK Abdou samath</h3>
                <p class="specialty"><span class="badge badge-de">Data Engineering</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ Senegalese</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=MARCHISELLI Anthony" class="student-card">
            <img src="images/MARCHISELLI Anthony.png" alt="Photo of MARCHISELLI Anthony">
            <div class="card-content">
                <h3>MARCHISELLI Anthony</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>


        <a href="profile.html?student=MICHELOZZI Matthieu" class="student-card">
            <img src="images/MICHELOZZI Matthieu.png" alt="Photo of MICHELOZZI Matthieu">
            <div class="card-content">
                <h3>MICHELOZZI Matthieu</h3>
                <p class="specialty"><span class="badge badge-de">Data Engineering</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>
         <a href="profile.html?student=Ambroise" class="student-card">
            <img src="images/Ambroise.png" alt="Photo of Ambroise">
            <div class="card-content">
                <h3>Ambroise</h3>
                <p class="specialty"><span class="badge badge-de">Data Engineering</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ Togolese</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=MIRANDE Clementine" class="student-card">
            <img src="images/MIRANDE Clementine.png" alt="Photo of MIRANDE Clementine">
            <div class="card-content">
                <h3>MIRANDE Clementine</h3>
                <p class="specialty"><span class="badge badge-de">Data Engineering</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=monia" class="student-card">
            <img src="images/monia.png" alt="Photo of monia">
            <div class="card-content">
                <h3>Monia</h3>
                <p class="specialty"><span class="badge badge-de">Data Engineering</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ Algerian</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=POIRIER Achille" class="student-card">
            <img src="images/POIRIER Achille.png" alt="Photo of POIRIER Achille">
            <div class="card-content">
                <h3>POIRIER Achille</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=Badre" class="student-card">
            <img src="images/Badre.png" alt="Photo of Badre">
            <div class="card-content">
                <h3>Badre</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French & Moroccan</p>
                </div>
            </div>
        </a>

        <a href="profile.html?student=ROBLES Nicolas" class="student-card">
            <img src="images/ROBLES Nicolas.png" alt="Photo of ROBLES Nicolas">
            <div class="card-content">
                <h3>ROBLES Nicolas</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>

       <a href="profile.html?student=THIRY Stephane" class="student-card">
            <img src="images/THIRY Stephane.png" alt="Photo of THIRY Stephane">
            <div class="card-content">
                <h3>THIRY Stephane</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>
        
        <a href="profile.html?student=Thomas" class="student-card">
            <img src="images/Thomas.png" alt="Photo of Thomas">
            <div class="card-content">
                <h3>Thomas</h3>
                <p class="specialty"><span class="badge badge-dfs">Fullstack</span></p>
                <div class="student-info">
                    <p class="info-item">ğŸ‚ 25 years</p>
                    <p class="info-item">ğŸŒ French</p>
                </div>
            </div>
        </a>

        </main>

    <footer>
        <p>M2 Info Project - Made by Youssouf Maham bowba</p>
    </footer>

    <script src="data.js"></script>
    <script>
        // Load students from localStorage if available
        const savedData = localStorage.getItem('studentsData');
        if (savedData) {
            Object.assign(studentsData, JSON.parse(savedData));
        }

        // Search and Filter functionality
        const searchInput = document.getElementById('searchInput');
        const clearBtn = document.getElementById('clearSearch');
        const searchResults = document.getElementById('searchResults');
        const studentGrid = document.getElementById('studentGrid');
        const filterBtns = document.querySelectorAll('.filter-btn');
        
        let currentFilter = 'all';
        let currentSearch = '';

        // Count students by specialty
        function updateCounts() {
            let allCount = 0;
            let deCount = 0;
            let dfsCount = 0;

            const cards = studentGrid.querySelectorAll('.student-card');
            cards.forEach(card => {
                if (card.style.display !== 'none') {
                    allCount++;
                    if (card.dataset.specialty === 'DE') deCount++;
                    if (card.dataset.specialty === 'DFS' || card.dataset.specialty === 'Fullstack') dfsCount++;
                }
            });

            document.getElementById('countAll').textContent = allCount;
            document.getElementById('countDE').textContent = deCount;
            document.getElementById('countDFS').textContent = dfsCount;
        }

        // Add data attributes to existing cards
        function initializeCards() {
            const cards = studentGrid.querySelectorAll('.student-card');
            cards.forEach(card => {
                const studentName = card.querySelector('h3')?.textContent.trim();
                // Find student in data
                for (let key in studentsData) {
                    if (studentsData[key].name === studentName) {
                        card.dataset.specialty = studentsData[key].specialty;
                        card.dataset.skills = (studentsData[key].skills || []).join(',').toLowerCase();
                        card.dataset.name = studentName.toLowerCase();
                        break;
                    }
                }
            });
            updateCounts();
        }

        // Filter students
        function filterStudents() {
            const cards = studentGrid.querySelectorAll('.student-card');
            let visibleCount = 0;
            let matchedSkills = new Set();

            cards.forEach(card => {
                const specialty = card.dataset.specialty;
                const skills = card.dataset.skills || '';
                const name = card.dataset.name || '';
                
                let matchesFilter = currentFilter === 'all' || 
                                   specialty === currentFilter || 
                                   (currentFilter === 'DFS' && specialty === 'Fullstack');
                
                let matchesSearch = true;
                if (currentSearch) {
                    const searchLower = currentSearch.toLowerCase();
                    matchesSearch = skills.includes(searchLower) || name.includes(searchLower);
                    
                    // Collect matched skills for display
                    if (matchesSearch && skills) {
                        const studentSkills = skills.split(',');
                        studentSkills.forEach(skill => {
                            if (skill.includes(searchLower)) {
                                matchedSkills.add(skill.trim());
                            }
                        });
                    }
                }

                if (matchesFilter && matchesSearch) {
                    card.style.display = '';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            updateCounts();

            // Show search results
            if (currentSearch && visibleCount > 0) {
                const skillsArray = Array.from(matchedSkills);
                searchResults.innerHTML = `
                    <p>
                        <strong>${visibleCount}</strong> student${visibleCount !== 1 ? 's' : ''} found with skill${skillsArray.length !== 1 ? 's' : ''}: 
                        ${skillsArray.map(s => `<span class="matched-skill">${s}</span>`).join(', ')}
                    </p>
                `;
                searchResults.style.display = 'block';
            } else if (currentSearch && visibleCount === 0) {
                searchResults.innerHTML = `
                    <p class="no-results">
                        âŒ No students found with skill "<strong>${currentSearch}</strong>"
                    </p>
                `;
                searchResults.style.display = 'block';
            } else {
                searchResults.style.display = 'none';
            }
        }

        // Search input handler
        searchInput.addEventListener('input', (e) => {
            currentSearch = e.target.value.trim();
            clearBtn.style.display = currentSearch ? 'block' : 'none';
            filterStudents();
        });

        // Clear search
        clearBtn.addEventListener('click', () => {
            searchInput.value = '';
            currentSearch = '';
            clearBtn.style.display = 'none';
            filterStudents();
            searchInput.focus();
        });

        // Filter buttons
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentFilter = btn.dataset.filter;
                filterStudents();
            });
        });

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', () => {
            initializeCards();
        });
    </script>

</body>
</html>